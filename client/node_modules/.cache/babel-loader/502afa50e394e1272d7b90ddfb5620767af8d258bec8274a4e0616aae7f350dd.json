{"ast":null,"code":"var _jsxFileName = \"C:\\\\RBAC\\\\client\\\\src\\\\Pages\\\\Chat\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:8000'); // Replace with your backend URL\n\nconst Chat = ({\n  projectId,\n  userId\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  useEffect(() => {\n    // Join the project's chat room when the component mounts\n    socket.emit('joinProject', projectId);\n\n    // Listen for new messages\n    socket.on('newMessage', message => {\n      setMessages(prevMessages => [...prevMessages, message]);\n    });\n    return () => {\n      // Cleanup the socket event listeners when the component unmounts\n      socket.off('newMessage');\n    };\n  }, [projectId]);\n  const sendMessage = () => {\n    if (newMessage.trim()) {\n      // Send the message to the server\n      socket.emit('sendMessage', projectId, {\n        senderId: userId,\n        message: newMessage\n      });\n      setNewMessage('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [msg.senderId.username, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), \" \", msg.message]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: newMessage,\n      onChange: e => setNewMessage(e.target.value),\n      placeholder: \"Type your message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendMessage,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"ppYy//Iy9fHF0/R/fKleZlFUFyc=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","io","jsxDEV","_jsxDEV","socket","Chat","projectId","userId","_s","messages","setMessages","newMessage","setNewMessage","emit","on","message","prevMessages","off","sendMessage","trim","senderId","children","map","msg","idx","username","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/RBAC/client/src/Pages/Chat/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst socket = io('http://localhost:8000'); // Replace with your backend URL\r\n\r\nconst Chat = ({ projectId, userId }) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Join the project's chat room when the component mounts\r\n    socket.emit('joinProject', projectId);\r\n\r\n    // Listen for new messages\r\n    socket.on('newMessage', (message) => {\r\n      setMessages((prevMessages) => [...prevMessages, message]);\r\n    });\r\n\r\n    return () => {\r\n      // Cleanup the socket event listeners when the component unmounts\r\n      socket.off('newMessage');\r\n    };\r\n  }, [projectId]);\r\n\r\n  const sendMessage = () => {\r\n    if (newMessage.trim()) {\r\n      // Send the message to the server\r\n      socket.emit('sendMessage', projectId, { senderId: userId, message: newMessage });\r\n      setNewMessage('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {messages.map((msg, idx) => (\r\n          <div key={idx}>\r\n            <strong>{msg.senderId.username}:</strong> {msg.message}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        value={newMessage}\r\n        onChange={(e) => setNewMessage(e.target.value)}\r\n        placeholder=\"Type your message\"\r\n      />\r\n      <button onClick={sendMessage}>Send</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,EAAE,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,MAAM,GAAGH,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAE5C,MAAMI,IAAI,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACd;IACAI,MAAM,CAACS,IAAI,CAAC,aAAa,EAAEP,SAAS,CAAC;;IAErC;IACAF,MAAM,CAACU,EAAE,CAAC,YAAY,EAAGC,OAAO,IAAK;MACnCL,WAAW,CAAEM,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAED,OAAO,CAAC,CAAC;IAC3D,CAAC,CAAC;IAEF,OAAO,MAAM;MACX;MACAX,MAAM,CAACa,GAAG,CAAC,YAAY,CAAC;IAC1B,CAAC;EACH,CAAC,EAAE,CAACX,SAAS,CAAC,CAAC;EAEf,MAAMY,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIP,UAAU,CAACQ,IAAI,CAAC,CAAC,EAAE;MACrB;MACAf,MAAM,CAACS,IAAI,CAAC,aAAa,EAAEP,SAAS,EAAE;QAAEc,QAAQ,EAAEb,MAAM;QAAEQ,OAAO,EAAEJ;MAAW,CAAC,CAAC;MAChFC,aAAa,CAAC,EAAE,CAAC;IACnB;EACF,CAAC;EAED,oBACET,OAAA;IAAAkB,QAAA,gBACElB,OAAA;MAAAkB,QAAA,EACGZ,QAAQ,CAACa,GAAG,CAAC,CAACC,GAAG,EAAEC,GAAG,kBACrBrB,OAAA;QAAAkB,QAAA,gBACElB,OAAA;UAAAkB,QAAA,GAASE,GAAG,CAACH,QAAQ,CAACK,QAAQ,EAAC,GAAC;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACN,GAAG,CAACR,OAAO;MAAA,GAD9CS,GAAG;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAER,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACN1B,OAAA;MACE2B,IAAI,EAAC,MAAM;MACXC,KAAK,EAAEpB,UAAW;MAClBqB,QAAQ,EAAGC,CAAC,IAAKrB,aAAa,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC/CI,WAAW,EAAC;IAAmB;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CAAC,eACF1B,OAAA;MAAQiC,OAAO,EAAElB,WAAY;MAAAG,QAAA,EAAC;IAAI;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxC,CAAC;AAEV,CAAC;AAACrB,EAAA,CA7CIH,IAAI;AAAAgC,EAAA,GAAJhC,IAAI;AA+CV,eAAeA,IAAI;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}